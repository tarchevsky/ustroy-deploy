'use client'

import Link from 'next/link'

interface SocialsProps {
  vk?:
    | { title: string; url: string; target: string }
    | { title: string; url: string; target: string }[]
    | string
  phone?: string
  email?: string
  telegram?: string
  instagram?: string
}
export default function Socials({
  vk,
  phone,
  email,
  telegram,
  instagram,
}: SocialsProps) {
  // Универсальная обработка vk: массив, объект, строка
  const vkList = Array.isArray(vk)
    ? vk
    : vk && typeof vk === 'object'
      ? [vk]
      : typeof vk === 'string' && vk
        ? [{ url: vk, target: '_blank', title: 'VK' }]
        : []

  return (
    <div className="flex gap-2">
      {vkList.map((item, idx) => (
        <Link
          key={item.url + idx}
          href={item.url}
          className="flex items-center text-base hover:text-primary transition-colors"
          aria-label="Связаться в vkontakte"
          target={item.target || '_blank'}
          rel="noopener noreferrer"
        >
          {/* SVG VK */}
          <svg
            width="25"
            height="25"
            viewBox="0 0 25 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_1527_3695)">
              <rect
                x="0.123535"
                y="0.128784"
                width="24.1856"
                height="24.1856"
                rx="8.06186"
                fill="#393939"
              />
              <path
                d="M12.2163 0.128784C5.53789 0.128784 0.123535 5.54314 0.123535 12.2216C0.123535 18.9 5.53789 24.3144 12.2163 24.3144C18.8947 24.3144 24.3091 18.9 24.3091 12.2216C24.3091 5.54314 18.8947 0.128784 12.2163 0.128784ZM19.9633 12.5442C19.9633 16.044 19.9633 17.7942 18.8759 18.8811C17.7889 19.9685 16.0388 19.9685 12.5389 19.9685H11.8937C8.39387 19.9685 6.64372 19.9685 5.55679 18.8811C4.46938 17.7942 4.46938 16.044 4.46938 12.5442V11.8989C4.46938 8.39911 4.46938 6.64897 5.55679 5.56203C6.64372 4.47463 8.39387 4.47463 11.8937 4.47463H12.5389C16.0388 4.47463 17.7889 4.47463 18.8759 5.56203C19.9633 6.64897 19.9633 8.39911 19.9633 11.8989V12.5442Z"
                fill="#393939"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M18.9497 16.5295H17.3205C16.6987 16.5295 16.5168 16.0343 15.4121 14.9296C14.4449 13.9978 14.0308 13.8773 13.789 13.8773C13.4614 13.8773 13.3633 13.9699 13.3633 14.4351V15.896C13.3633 16.2972 13.2353 16.5295 12.1993 16.5295C10.4734 16.5295 8.57656 15.4819 7.23003 13.549C5.21057 10.719 4.6582 8.57901 4.6582 8.14719C4.6582 7.90608 4.75083 7.68677 5.2167 7.68677H6.84589C7.26204 7.68677 7.41869 7.8693 7.57535 8.32019C8.37223 10.6407 9.71536 12.669 10.2677 12.669C10.4748 12.669 10.5701 12.5736 10.5701 12.0478V9.64901C10.5095 8.54427 9.92241 8.45368 9.92241 8.06137C9.92241 7.87884 10.0784 7.68677 10.3372 7.68677H12.8974C13.2428 7.68677 13.3633 7.87134 13.3633 8.28545V11.5125C13.3633 11.8578 13.5132 11.9784 13.6167 11.9784C13.8237 11.9784 13.9967 11.8578 14.3761 11.4784C15.5503 10.1666 16.3785 8.14719 16.3785 8.14719C16.4821 7.90608 16.6735 7.68677 17.0876 7.68677H18.7168C19.2092 7.68677 19.3127 7.94014 19.2092 8.28545C19.0021 9.2349 17.0174 12.0301 17.0174 12.0301C16.8444 12.3067 16.7756 12.4449 17.0174 12.7555C17.1897 12.9966 17.7598 13.4802 18.1392 13.929C18.8393 14.7157 19.3665 15.3798 19.5136 15.8375C19.6478 16.2972 19.4149 16.5295 18.9497 16.5295Z"
                fill="white"
              />
            </g>
            <defs>
              <clipPath id="clip0_1527_3695">
                <rect
                  x="0.123535"
                  y="0.128784"
                  width="24.1856"
                  height="24.1856"
                  rx="8.06186"
                  fill="white"
                />
              </clipPath>
            </defs>
          </svg>
        </Link>
      ))}
      {instagram && (
        <Link
          href={instagram}
          className="flex items-center text-base hover:text-primary transition-colors"
          aria-label="Instagram"
          target="_blank"
          rel="noopener noreferrer"
        >
          <svg
            width="25"
            height="25"
            viewBox="0 0 25 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clipPath="url(#clip0_1527_3699)">
              <path
                d="M17.8821 0.128784H7.04525C3.36512 0.128784 0.371094 3.12296 0.371094 6.80309V17.6399C0.371094 21.3202 3.36512 24.3142 7.04525 24.3142H17.8821C21.5625 24.3142 24.5565 21.32 24.5565 17.6399V6.80309C24.5567 3.12296 21.5625 0.128784 17.8821 0.128784ZM22.4108 17.6399C22.4108 20.137 20.3793 22.1684 17.8822 22.1684H7.04525C4.54834 22.1685 2.51694 20.137 2.51694 17.6399V6.80309C2.51694 4.30618 4.54834 2.27463 7.04525 2.27463H17.8821C20.3791 2.27463 22.4107 4.30618 22.4107 6.80309V17.6399H22.4108Z"
                fill="#393939"
              />
              <path
                d="M12.4634 5.98999C9.02706 5.98999 6.23145 8.7856 6.23145 12.222C6.23145 15.6582 9.02706 18.4536 12.4634 18.4536C15.8998 18.4536 18.6954 15.6582 18.6954 12.222C18.6954 8.7856 15.8998 5.98999 12.4634 5.98999ZM12.4634 16.3077C10.2104 16.3077 8.37729 14.4748 8.37729 12.2218C8.37729 9.96868 10.2103 8.1357 12.4634 8.1357C14.7166 8.1357 16.5495 9.96868 16.5495 12.2218C16.5495 14.4748 14.7164 16.3077 12.4634 16.3077Z"
                fill="#393939"
              />
              <path
                d="M18.9569 4.17053C18.5435 4.17053 18.1374 4.33791 17.8454 4.63117C17.552 4.92301 17.3833 5.32929 17.3833 5.74415C17.3833 6.15773 17.5521 6.56387 17.8454 6.85713C18.1372 7.14897 18.5435 7.31778 18.9569 7.31778C19.3718 7.31778 19.7766 7.14897 20.0699 6.85713C20.3632 6.56387 20.5305 6.15759 20.5305 5.74415C20.5305 5.32929 20.3632 4.92301 20.0699 4.63117C19.7781 4.33791 19.3718 4.17053 18.9569 4.17053Z"
                fill="#393939"
              />
            </g>
            <defs>
              <clipPath id="clip0_1527_3699">
                <rect
                  width="24.1856"
                  height="24.1856"
                  fill="white"
                  transform="translate(0.371094 0.128784)"
                />
              </clipPath>
            </defs>
          </svg>
        </Link>
      )}
      {phone && (
        <Link
          href={`tel:${phone}`}
          className="flex items-center text-base hover:text-primary transition-colors"
          aria-label="Позвонить"
        >
          <svg
            width="21"
            height="20"
            viewBox="0 0 21 20"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M2.69432 1.66379C3.95385 0.411507 6.02789 0.634021 7.0825 2.04362L8.38861 3.78647C9.24761 4.9332 9.17103 6.5353 8.1516 7.54851L7.90528 7.79483C7.87735 7.89823 7.87452 8.00681 7.89701 8.11153C7.96221 8.53378 8.31512 9.42798 9.79303 10.8976C11.2709 12.3672 12.1713 12.7191 12.5998 12.7854C12.7078 12.8071 12.8193 12.8039 12.9258 12.776L13.3481 12.3559C14.2547 11.4554 15.6457 11.2867 16.7676 11.8963L18.7443 12.9727C20.4385 13.8917 20.8659 16.1934 19.4791 17.573L18.0085 19.0344C17.5448 19.4949 16.9218 19.8789 16.1621 19.9503C14.2888 20.1252 9.92447 19.9017 5.33654 15.3406C1.05496 11.0829 0.233209 7.36947 0.128679 5.53968C0.076932 4.61443 0.513681 3.83201 1.07048 3.27935L2.69432 1.66379ZM5.84056 2.97404C5.31584 2.27338 4.33885 2.21749 3.78826 2.76498L2.16339 4.3795C1.82186 4.71896 1.65833 5.09362 1.67903 5.45171C1.76183 6.90581 2.4242 10.2559 6.43152 14.2405C10.6355 18.4196 14.5176 18.5448 16.0182 18.4041C16.3246 18.3762 16.6289 18.2168 16.9135 17.9342L18.3831 16.4718C18.9813 15.8778 18.8499 14.7952 18.0033 14.3357L16.0265 13.2604C15.4801 12.9644 14.8405 13.0617 14.4431 13.457L13.9722 13.9259L13.4236 13.3753C13.9722 13.9259 13.9711 13.9269 13.9701 13.9269L13.9691 13.929L13.9659 13.9321L13.9587 13.9383L13.9432 13.9528C13.8995 13.9933 13.8524 14.03 13.8024 14.0625C13.7196 14.1173 13.6099 14.1784 13.4723 14.2291C13.1928 14.3336 12.8223 14.3895 12.3649 14.3191C11.4676 14.1815 10.2784 13.5698 8.69806 11.9988C7.11872 10.4277 6.50189 9.24583 6.36321 8.34956C6.2918 7.89212 6.34872 7.52161 6.45429 7.24217C6.51239 7.08493 6.59557 6.93813 6.7006 6.80749L6.73372 6.77127L6.74821 6.75574L6.75442 6.74953L6.75753 6.74643L6.7596 6.74436L7.05766 6.44836C7.50062 6.00644 7.56272 5.27473 7.14563 4.71689L5.84056 2.97404Z"
              fill="#FE520A"
            />
          </svg>
        </Link>
      )}
      {telegram && (
        <Link
          href={
            telegram.startsWith('http')
              ? telegram
              : `https://t.me/${telegram.replace('@', '')}`
          }
          className="flex items-center text-base hover:text-primary transition-colors"
          aria-label="Связаться в telegram"
          target="_blank"
          rel="noopener noreferrer"
        >
          <svg
            width="25"
            height="25"
            viewBox="0 0 25 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect
              x="1.6259"
              y="1.13652"
              width="22.1701"
              height="22.1701"
              rx="5.03866"
              stroke="#393939"
              strokeWidth="2.01546"
            />
            <path
              d="M17.6295 19.5898C17.5036 19.5898 17.3785 19.5525 17.2712 19.4797L13.217 16.7297L11.0426 18.2943C10.872 18.4169 10.6522 18.4478 10.4542 18.377C10.2564 18.3061 10.1062 18.1422 10.0526 17.9391L8.96083 13.8015L5.05969 12.3098C4.81409 12.2159 4.65122 11.9809 4.64943 11.7179C4.64764 11.455 4.80729 11.2178 5.05169 11.1206L19.8853 5.21817C19.9526 5.18957 20.0238 5.17307 20.0956 5.16864C20.1213 5.16711 20.1471 5.16711 20.1727 5.16856C20.3215 5.17741 20.4676 5.23799 20.5816 5.34981C20.5935 5.36139 20.6047 5.37322 20.6153 5.38555C20.7098 5.49346 20.7617 5.62502 20.7715 5.75905C20.7739 5.79275 20.7737 5.82687 20.7707 5.861C20.7687 5.88533 20.7652 5.90959 20.7602 5.93367L18.2564 19.071C18.2162 19.282 18.0725 19.4587 17.8741 19.541C17.7954 19.5737 17.7122 19.5898 17.6295 19.5898ZM13.573 15.4287L17.1843 17.8783L19.1325 7.65597L12.096 14.4269L13.5559 15.4172C13.5618 15.4209 13.5674 15.4248 13.573 15.4287ZM10.5667 14.884L11.0502 16.7162L12.092 15.9665L10.7279 15.0412C10.6645 14.9983 10.6102 14.9449 10.5667 14.884ZM7.04374 11.7017L9.72246 12.7258C9.91435 12.7992 10.0592 12.9605 10.1116 13.1592L10.4513 14.4466C10.4669 14.2981 10.5342 14.1584 10.6436 14.0531L17.3483 7.6015L7.04374 11.7017Z"
              fill="#393939"
            />
          </svg>
        </Link>
      )}
      {email && (
        <Link
          href={`mailto:${email}`}
          className="flex items-center text-base hover:text-primary transition-colors"
          aria-label="Написать на email"
        >
          <svg
            width="26"
            height="25"
            viewBox="0 0 26 25"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <rect
              x="1.87345"
              y="1.13652"
              width="22.1701"
              height="22.1701"
              rx="5.03866"
              stroke="#393939"
              strokeWidth="2.01546"
            />
            <g clipPath="url(#clip0_1527_3707)">
              <path
                d="M17.6611 10.8949V7.51882C17.6611 6.77779 17.0585 6.17517 16.3174 6.17517H6.24011C5.49908 6.17517 4.89648 6.77776 4.89648 7.51882V14.237C4.89648 14.9781 5.49908 15.5807 6.24014 15.5807H13.7734C14.2135 17.1292 15.6374 18.268 17.3252 18.268C17.9747 18.268 18.6134 18.097 19.173 17.7733C19.3334 17.6804 19.3886 17.4751 19.2954 17.3144C19.2025 17.1536 18.9969 17.0982 18.8364 17.192C18.3792 17.4564 17.8566 17.5961 17.3252 17.5961C15.6581 17.5961 14.302 16.24 14.302 14.5729C14.302 12.9059 15.6581 11.5498 17.3252 11.5498C18.9922 11.5498 20.3484 12.9059 20.3484 14.5729V14.9089C20.3484 15.2792 20.0469 15.5807 19.6765 15.5807C19.3062 15.5807 19.0047 15.2792 19.0047 14.9089V13.5652C19.0047 13.3795 18.8545 13.2293 18.6688 13.2293C18.5785 13.2293 18.4973 13.2659 18.437 13.3238C18.1401 13.0592 17.7532 12.8934 17.3252 12.8934C16.3991 12.8934 15.6456 13.6469 15.6456 14.5729C15.6456 15.499 16.3991 16.2525 17.3252 16.2525C17.8258 16.2525 18.2709 16.0279 18.5789 15.6793C18.8222 16.025 19.2226 16.2525 19.6766 16.2525C20.4176 16.2525 21.0202 15.6499 21.0202 14.9088V14.5729C21.0202 12.6489 19.5415 11.0654 17.6611 10.8949ZM6.24014 6.84698H16.3175C16.3314 6.84698 16.3432 6.85413 16.3569 6.85498L11.555 10.7966C11.3841 10.9042 11.1364 10.8818 11.0252 10.8136L6.20106 6.85492C6.21469 6.8541 6.22628 6.84698 6.24014 6.84698ZM16.9893 10.8949C15.1089 11.0654 13.6302 12.6489 13.6302 14.5729C13.6302 14.6863 13.6371 14.7981 13.6472 14.9089H6.24014C5.8698 14.9089 5.56833 14.6074 5.56833 14.2371V7.51882C5.56833 7.42369 5.58933 7.33384 5.62517 7.25178L10.6287 11.3549C10.8242 11.4825 11.0489 11.5498 11.2788 11.5498C11.4999 11.5498 11.7161 11.4875 11.9064 11.3694C11.9254 11.3592 11.9434 11.3471 11.9605 11.333L16.9324 7.25171C16.9683 7.33384 16.9893 7.42369 16.9893 7.51886V10.8949H16.9893ZM17.3252 15.5807C16.7695 15.5807 16.3175 15.1286 16.3175 14.5729C16.3175 14.0172 16.7695 13.5652 17.3252 13.5652C17.8809 13.5652 18.3329 14.0172 18.3329 14.5729C18.3329 15.1286 17.8809 15.5807 17.3252 15.5807Z"
                fill="#393939"
              />
            </g>
            <defs>
              <clipPath id="clip0_1527_3707">
                <rect
                  width="16.1237"
                  height="16.1237"
                  fill="white"
                  transform="translate(4.89648 4.15979)"
                />
              </clipPath>
            </defs>
          </svg>
        </Link>
      )}
    </div>
  )
}
